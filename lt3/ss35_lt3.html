<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ss35 lt3</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />

    <style>
      .formSearch {
        width: 100%;
        text-align: center;
        margin: 20px 0;
      }
      #inputSearch {
        width: 80%;
        margin-right: 10px;
        border: 1px solid rgb(91, 190, 236);
        padding: 5px 10px;
        border-radius: 8px;
      }
      #inputSearch:focus {
        outline: none;
        border-color: rgb(9, 120, 172);
        box-shadow: 0 0 10px rgba(0, 123, 255, 0.6);
      }
      #btn {
        border: none;
        background-color: green;
        color: white;
        border-radius: 6px;
        padding: 5px 10px;
      }
      #btn:hover {
        opacity: 0.6;
        cursor: pointer;
      }
      img {
        height: 200px;
      }
      .card {
        width: 100%;
        height: 400px;
      }
      .card img {
        height: 150px;
        object-fit: contain;
      }
    </style>
  </head>
  <body>
    <div class="formSearch">
      <input type="text" id="inputSearch" placeholder="Search" />
      <button id="btn">Search</button>
    </div>

    <div>
      <div class="card-group">
        <div class="row g-2" id="listProducts"></div>
      </div>
    </div>

    <script>
      const products = [
        {
          id: 1,
          name: "Laptop Dell XPS 15",
          price: 35990000,
          image:
            "https://www.laptopvip.vn/images/detailed/31/notebook-xps-15-9530-t-black-g--1-~1-pkeb-ii-www.laptopvip.vn-1683083662.png",
          description:
            "Laptop cao cấp với màn hình 15 inch, CPU Intel Core i7 và RAM 16GB.",
        },
        {
          id: 2,
          name: "iPhone 15 Pro Max",
          price: 32990000,
          image:
            "https://th.bing.com/th/id/OIP.PO8M08Vxndz_455at0qGawHaFj?rs=1&pid=ImgDetMain",
          description:
            "Điện thoại flagship của Apple với camera 48MP và chip A17 Pro.",
        },
        {
          id: 3,
          name: "Samsung Galaxy S24 Ultra",
          price: 28990000,
          image:
            "https://th.bing.com/th/id/OIP.n5ZE0e4C910Ed2cLhNKjPAHaEK?rs=1&pid=ImgDetMain",
          description:
            "Điện thoại Android mạnh mẽ với bút S-Pen và camera siêu zoom.",
        },
        {
          id: 4,
          name: "Tai nghe Sony WH-1000XM5",
          price: 7990000,
          image:
            "https://down-vn.img.susercontent.com/file/vn-11134207-7qukw-ljv36f0uj8xuaf",
          description:
            "Tai nghe chống ồn tốt nhất với thời lượng pin lên đến 30 giờ.",
        },
        {
          id: 5,
          name: "Apple Watch Series 9",
          price: 11990000,
          image:
            "https://bgr.com/wp-content/uploads/2023/09/Apple-Watch-Series-9.jpg?quality=82&strip=all",
          description:
            "Đồng hồ thông minh cao cấp với tính năng đo nhịp tim và hỗ trợ thể thao.",
        },
        {
          id: 6,
          name: "Loa JBL Charge 5",
          price: 3990000,
          image:
            "https://hoanghamobile.com/Uploads/2021/03/09/image-removebg-preview-6.png",
          description:
            "Loa Bluetooth chống nước với âm bass mạnh mẽ và pin 20 giờ.",
        },
      ];

      localStorage.setItem("ss35Lt3", JSON.stringify(products));

      let inputSearch = document.querySelector("#inputSearch");
      let btn = document.querySelector("#btn");
      let listProducts = document.querySelector("#listProducts");

      const renderData = (arr) => {
        listProducts.innerHTML = "";

        let result = arr.map((item) => {
          return `
                <div class="col">
                  <div class="card"> 
                    <img src="${item.image}" class="card-img-top" alt="img" />
                    <div class="card-body d-flex flex-column"> 
                      <h5 class="card-title">${item.name}</h5>
                      <p class="card-text flex-grow-1">${item.description}</p> 
                      <p class="card-text">${item.price.toLocaleString(
                        "it-IT",
                        { style: "currency", currency: "VND" }
                      )}</p>
                      <a href="#" class="btn btn-primary mt-auto">Buy</a> 
                    </div>
                  </div>
                </div>
            `;
        });

        let convertArr = result.join("");
        listProducts.innerHTML = convertArr;
      };

      let arrProLocal = JSON.parse(localStorage.getItem("ss35Lt3"));
      renderData(arrProLocal);

      btn.addEventListener("click", function () {
        if (inputSearch.value) {
          let result = arrProLocal.filter((item) =>
            item.name.toLowerCase().includes(inputSearch.value.toLowerCase())
          );

          result.length === 0
            ? alert("Không có sản phẩm bạn tìm kiếm!")
            : renderData(result);
        } else {
          renderData(arrProLocal);
        }
      });
    </script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
